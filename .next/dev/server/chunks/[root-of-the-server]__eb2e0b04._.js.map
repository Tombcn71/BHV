{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/tom/BHV/app/api/create-payment-intent/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport Stripe from \"stripe\"\n\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY || \"\", {\n  apiVersion: \"2025-01-27.acacia\",\n})\n\nexport async function POST(req: Request) {\n  try {\n    const { amount, packageName } = await req.json()\n\n    // Create a PaymentIntent with Stripe\n    const paymentIntent = await stripe.paymentIntents.create({\n      amount, // Amount in cents\n      currency: \"eur\",\n      payment_method_types: [\"card\", \"ideal\"], // Enable both card and iDEAL\n      description: `BHV Training - ${packageName}`,\n      metadata: {\n        package: packageName,\n      },\n    })\n\n    return NextResponse.json({\n      clientSecret: paymentIntent.client_secret,\n    })\n  } catch (error) {\n    console.error(\"[v0] Error creating payment intent:\", error)\n    return NextResponse.json({ error: \"Failed to create payment intent\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,gQAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB,IAAI,IAAI;IAC7D,YAAY;AACd;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,MAAM,IAAI,IAAI;QAE9C,qCAAqC;QACrC,MAAM,gBAAgB,MAAM,OAAO,cAAc,CAAC,MAAM,CAAC;YACvD;YACA,UAAU;YACV,sBAAsB;gBAAC;gBAAQ;aAAQ;YACvC,aAAa,CAAC,eAAe,EAAE,aAAa;YAC5C,UAAU;gBACR,SAAS;YACX;QACF;QAEA,OAAO,sRAAY,CAAC,IAAI,CAAC;YACvB,cAAc,cAAc,aAAa;QAC3C;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,OAAO,sRAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAkC,GAAG;YAAE,QAAQ;QAAI;IACvF;AACF"}}]
}